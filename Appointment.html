<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MediFlow | Appointment Management</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    *{
      margin:0;
      padding:0;
      box-sizing:border-box;
      font-family:"Segoe UI", Roboto, sans-serif;
    }
    body{
      background:#f4f7f6;
      color:#333;
    }

    .sidebar{
      width:260px;
      background:#004d40;
      color:white;
      padding:25px 15px;
      height:100vh;
      position:fixed;
    }

    .sidebar h3{
      text-align:center;
      margin-bottom:40px;
    }

    .sidebar a{
      display:flex;
      align-items:center;
      gap:12px;
      padding:15px;
      margin-bottom:8px;
      border-radius:12px;
      color:#b2dfdb;
      text-decoration:none;
    }

    .sidebar a:hover,
    .sidebar a.active{
      background:#00796b;
      color:white;
    }

    .content{
      margin-left:260px;
      padding:35px;
    }

    .module{
      background:white;
      padding:30px;
      border-radius:20px;
      box-shadow:0 10px 25px rgba(0,0,0,0.05);
    }

    .form-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
      gap:15px;
      margin-bottom:25px;
    }

    input, select{
      padding:12px;
      border-radius:8px;
      border:1px solid #ccc;
    }

    .btn-save{
      background:#009688;
      color:white;
      border:none;
      padding:12px;
      border-radius:8px;
      cursor:pointer;
      font-weight:600;
    }

    table{
      width:100%;
      border-collapse:collapse;
      margin-top:20px;
    }

    th{
      background:#f1f1f1;
      padding:15px;
      text-align:left;
    }

    td{
      padding:15px;
      border-bottom:1px solid #eee;
    }

    .badge{
      padding:5px 10px;
      border-radius:20px;
      font-size:12px;
      font-weight:bold;
    }

    .Scheduled{background:#e0f2f1;color:#00695c}
    .Completed{background:#dcfce7;color:#166534}
    .Cancelled{background:#fee2e2;color:#991b1b}
  </style>
</head>
<body>

<div class="sidebar">
  <h3><i class="fa-solid fa-heart-pulse"></i> MediFlow</h3>
  <a href="index.html"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
  <a href="index.html"><i class="fa-solid fa-bed"></i> Patient Mgmt</a>
  <a class="active"><i class="fa-solid fa-calendar-check"></i> Appointments</a>
</div>

<div class="content">
  <div class="module">
    <h2>ðŸ“… Appointment Management</h2>
    <br>

    <div class="form-grid">
      <input id="pname" placeholder="Patient Name">
      <input id="dname" placeholder="Doctor Name">
      <input id="date" type="date">
      <input id="time" type="time">
      <select id="status">
        <option>Scheduled</option>
        <option>Completed</option>
        <option>Cancelled</option>
      </select>
      <button class="btn-save" onclick="addAppointment()">Book Appointment</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Patient</th>
          <th>Doctor</th>
          <th>Date & Time</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="apptTable"></tbody>
    </table>
  </div>
</div>

<script>
let appointments = JSON.parse(localStorage.getItem("appointments")) || [];

function addAppointment(){
  appointments.push({
    id: "APT-" + Math.floor(1000 + Math.random()*9000),
    patient: pname.value,
    doctor: dname.value,
    datetime: date.value + " " + time.value,
    status: status.value
  });

  localStorage.setItem("appointments", JSON.stringify(appointments));
  render();
}

function render(){
  apptTable.innerHTML="";
  appointments.forEach((a,i)=>{
    apptTable.innerHTML+=`
      <tr>
        <td>${a.id}</td>
        <td>${a.patient}</td>
        <td>${a.doctor}</td>
        <td>${a.datetime}</td>
        <td><span class="badge ${a.status}">${a.status}</span></td>
        <td>
          <button onclick="remove(${i})" style="border:none;background:none;color:red;">
            <i class="fa-solid fa-trash"></i>
          </button>
        </td>
      </tr>`;
  });
}

function remove(i){
  appointments.splice(i,1);
  localStorage.setItem("appointments", JSON.stringify(appointments));
  render();
}

render();
</script>

</body>
</html>